{% extends "layouts/base.html" %}

{% load static %}
{#{% load bootstrap5 %}#}

{% block content %}
    <h1>Question</h1>

    {% include "components/question.html" with item=question %}

    <div class="mt-5" style="width: 90%">
        <h5>{{ question.answers_count }} answer(s)</h5>

        <div>
            {% for answer in answers %}
                {% include "components/answer.html" with item=answer %}
            {% endfor %}
        </div>

        {% include "components/pagination.html" with page_obj=answers %}

        {#        {% if request.user.is_authenticated %}#}
        {#            <form method="post" action="{% url "answer" question.id %}" class="mt-5">#}
        {#                {% csrf_token %}#}
        {#                {% bootstrap_form form %}#}
        {#                <div class="form-group">#}
        {#                    <label for="exampleFormControlTextarea1">Do you have any ideas about the question?</label>#}
        {#                    <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>#}
        {#                </div>#}
        {#                <button class="btn btn-primary mt-3">Answer</button>#}
        {#            </form>#}
        {#        {% endif %}#}

        {% if request.user.is_authenticated %}
            <form method="post" action="{% url "answer" question.id %}" class="mt-5">
                {% csrf_token %}
                <div class="form-group">
                    <label for="exampleFormControlTextarea1">Do you have any ideas about the question?</label>
                    <textarea class="form-control" id="exampleFormControlTextarea1" name="content" rows="3"></textarea>
                </div>
                <button class="btn btn-primary mt-3">Answer</button>
            </form>
        {% endif %}

    </div>

    <script src="{% static 'js/marking_answers.js' %}"></script>
{% endblock %}